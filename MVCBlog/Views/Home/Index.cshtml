@model MVCBlog.Models.PostViewModel

@{
    ViewBag.Title = "Home";
    bool isSecondColumn = false;
    int i = 0;
    int n = @Model.TotalPostsForPage / 3;
    int remainder = @Model.TotalPostsForPage % 3;
}
    @switch (remainder)
    {
        case 0:
            remainder = 0;
            break;
        case 1:
            remainder = 1;
            break;
        case 2:
            remainder = 1;
            isSecondColumn = true;
            break;
    }


<div class="slider" style="overflow:hidden;">
	<div class="fullwidth flexslider" id="homeslider">
		<ul class="slides">
			<li data-height="500"
				style=" position: relative;
						background-image: url(@Url.Content("~/Content/themes/base/images//slider_img1.jpg"));
						width: 100%;
						float: left;
						margin-right: 	-100%;
						display: list-item;
						height: 500px;
						background-position: 50% 0px;
						background-repeat: initial initial;"
				class="first_slide">
				<div class="caption_wrapper" style="bottom: 50px; opacity: 1;">
					<div class="caption">
						<h3><a href="#">In luctus luctus est vestibulum luctus</a></h3>
						Lorem ipsum dolor sit amet, consectetur adipiscing elit. In luctus luctus est vestibulum luctus. Cras semper mollis feugiat. Suspendisse .. 
						<a href="#">Read more </a>
					</div>
				</div>
			</li>
			<li data-height="500"
				style=" position: relative;
						background-image: url(@Url.Content("~/Content/themes/base/images//slider_img2.jpg"));
						width: 100%;
						float: left;
						margin-right: -100%;
						height: 500px;
						display: none;
						background-position: 50% 0px;
						background-repeat: initial initial;"
				class="second_slide">
				<div class="caption_wrapper" style="bottom: 50px; opacity: 1;">
					<div class="caption">
						<h3><a href="#">In luctus luctus est vestibulum luctus</a></h3>
							Lorem ipsum dolor sit amet, consectetur adipiscing elit. In luctus luctus est vestibulum luctus. Cras semper mollis feugiat. Suspendisse .. 
							<a href="#">Read more </a>
					</div>
				</div>
			</li>
			<li data-height="500"
				style=" position: relative;
						background-image: url(@Url.Content("~/Content/themes/base/images//slider_img3.jpg"));
						width: 100%;
						float: left;
						margin-right: -100%;
						height: 500px;
						display: none;
						background-position: 50% 0px;
						background-repeat: initial initial;"
				class="third_slide">
				<div class="caption_wrapper" style="bottom: 50px; opacity: 1;">
					<div class="caption">
						<h3><a href="#">In luctus luctus est vestibulum luctus</a></h3>
							Lorem ipsum dolor sit amet, consectetur adipiscing elit. In luctus luctus est vestibulum luctus. Cras semper mollis feugiat. Suspendisse .. 
							<a href="#">Read more </a>
					</div>
				</div>
			</li>
		</ul>
		<ol class="flex-control-nav flex-control-paging">
			<li><a class="flex-active first_button">1</a></li>
			<li><a class="second_button">2</a></li>
			<li><a class="third_button">3</a></li>
		</ol>
		<ul class="flex-direction-nav">
			<li><a class="flex-prev" href="#">Previous</a></li>
			<li><a class="flex-next" href="#">Next</a></li>
		</ul>
	</div>
</div>

@if (@Model.Posts.Count == 0)
{
    <h2>Sorry, posts not found...</h2>
}

<div class="container" style="margin-top: 30px;">
    <div class="row">

        <div class="megacolumn">

            @for (i = 0; i < n + remainder; i++)
            {
                ViewBag.Number = i;
                @Html.Partial("_PostItem");
            }
            
        </div>
         
        <div class="megacolumn">
            
            @{int k = i + n;}
            @if (isSecondColumn)
            {
                k += remainder;
            }
      
            @for(; i < k; i++)
            {
                ViewBag.Number = i;
                @Html.Partial("_PostItem");
            }
            
        </div>
      
          
        <div class="megacolumn">

            @for (; i < @Model.TotalPostsForPage; i++)
            {
                ViewBag.Number = i;
                @Html.Partial("_PostItem");
            }
           
        </div>
              

        <div class="clear"></div>

    </div>
    @if (@Model.Posts.Count != 0)
    {
        @Html.Partial("_Pager")
    }

</div>













